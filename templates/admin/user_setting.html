$def with (name, str1, settings, status_list)

$var title: 用户设置
$var css:
$var js:
$var name: $'|'.join(str1) $name

<div class="caption"><h2>用户设置</h2></div>

<form name="settings" method="post" action="/admin/user_setting" id="form">
<input type="hidden" name="chain_addr" value="$settings['chain_addr']" />

<table class="props_tb">
<thead>
        <tr class="even">
            <th>项目</th>
            <th>内容</th>
        </tr>
</thead>
<tbody>

<tr><td>用户名</td><td class="t_l">$settings['login_name']</td></tr>
<tr><td>用户类型</td><td class="t_l">$settings['user_type']</td></tr>
<tr><td>银行开户姓名</td><td class="t_l"><input type="text" name="bank_acc_name" value="$settings['bank_acc_name']"/></td></tr>
<tr><td>银行名称</td><td class="t_l"><input type="text" name="bank_name" value="$settings['bank_name']"/></td></tr>
<tr><td>银行账号</td><td class="t_l"><input type="text" name="bank_acc_no" value="$settings['bank_acc_no']" size="50"/></td></tr>
<tr><td>联系地址</td><td class="t_l"><input type="text" name="address" value="$settings['address']" size="50" /></td></tr>
<tr><td>联系电话</td><td class="t_l"><input type="text" name="phone" value="$settings['phone']"/></td></tr>
<tr><td>电子邮件</td><td class="t_l"><input type="text" name="email" value="$settings['email']"/></td></tr>
<tr><td>推荐人链地址</td><td class="t_l">$settings['referrer']</td></tr>
<tr><td>状态</td><td class="t_l">
	<select name="status">
		$for i in status_list:
			<option value="$i[0]"
				$if settings['status']==i[0]:
					selected="selected" 
			>$i[1] ($i[0])</option>
	</select>
</td></tr>

</tbody>
</table>

<p>
<input type="button" name="button" value="保存" onclick="$$('.floatLayer').show();$$('#form').submit();" />
<input type="button" name="cancel" value="返回" onclick="history.go(-1);" /></p>

</form>

<div class="article_box">
  <div>修改历史：</div>
  <textarea rows="8" cols="100" id="history">
  $for h in settings['last_date']:
      $h['date']，用户：$h['caller']，操作：$h['act']；
  </textarea>
</div>